# ğŸ§®æ•°æ®åº“è®¾è®¡

### 1. **ç”¨æˆ·è¡¨ï¼ˆusersï¼‰**

- **user_id**: INT, ä¸»é”®ï¼Œè‡ªå¢
- **username**: VARCHAR(50), å”¯ä¸€
- **password_hash**: VARCHAR(255) // å­˜å‚¨åŠ å¯†åçš„å¯†ç 
- **email**: VARCHAR(100), å”¯ä¸€
- **phone_number**: VARCHAR(20), å¯é€‰
- **address**: TEXT, å¯é€‰
- **created_at**: TIMESTAMP, é»˜è®¤å½“å‰æ—¶é—´
- **updated_at**: TIMESTAMP, é»˜è®¤å½“å‰æ—¶é—´ï¼Œæ›´æ–°æ—¶è‡ªåŠ¨æ”¹å˜

### 2. **äº§å“è¡¨ï¼ˆproductsï¼‰**

- **product_id**: INT, ä¸»é”®ï¼Œè‡ªå¢
- **name**: VARCHAR(100)
- **description**: TEXT
- **price**: DECIMAL(10, 2)
- **stock**: INT // åº“å­˜æ•°é‡
- **image_url**: VARCHAR(255) // äº§å“å›¾ç‰‡é“¾æ¥
- **created_at**: TIMESTAMP, é»˜è®¤å½“å‰æ—¶é—´
- **updated_at**: TIMESTAMP, é»˜è®¤å½“å‰æ—¶é—´ï¼Œæ›´æ–°æ—¶è‡ªåŠ¨æ”¹å˜

### 3. **è´­ç‰©è½¦è¡¨ï¼ˆcart_itemsï¼‰**

- **cart_item_id**: INT, ä¸»é”®ï¼Œè‡ªå¢
- **user_id**: INT, å¤–é”®ï¼Œå¼•ç”¨ users.user_id
- **product_id**: INT, å¤–é”®ï¼Œå¼•ç”¨ products.product_id
- **quantity**: INT // å•†å“æ•°é‡
- **created_at**: TIMESTAMP, é»˜è®¤å½“å‰æ—¶é—´
- **updated_at**: TIMESTAMP, é»˜è®¤å½“å‰æ—¶é—´ï¼Œæ›´æ–°æ—¶è‡ªåŠ¨æ”¹å˜

### 4. **è®¢å•è¡¨ï¼ˆordersï¼‰**

- **order_id**: INT, ä¸»é”®ï¼Œè‡ªå¢
- **user_id**: INT, å¤–é”®ï¼Œå¼•ç”¨ users.user_id
- **total_amount**: DECIMAL(10, 2) // è®¢å•æ€»é‡‘é¢
- **status**: ENUM('Pending', 'Processing', 'Shipped', 'Delivered', 'Cancelled') // è®¢å•çŠ¶æ€
- **created_at**: TIMESTAMP, é»˜è®¤å½“å‰æ—¶é—´
- **updated_at**: TIMESTAMP, é»˜è®¤å½“å‰æ—¶é—´ï¼Œæ›´æ–°æ—¶è‡ªåŠ¨æ”¹å˜

### 5. **è®¢å•é¡¹è¡¨ï¼ˆorder_itemsï¼‰**

- **order_item_id**: INT, ä¸»é”®ï¼Œè‡ªå¢
- **order_id**: INT, å¤–é”®ï¼Œå¼•ç”¨ orders.order_id
- **product_id**: INT, å¤–é”®ï¼Œå¼•ç”¨ products.product_id
- **quantity**: INT // å•†å“æ•°é‡
- **price**: DECIMAL(10, 2) // å•ä¸ªå•†å“çš„ä»·æ ¼
- **created_at**: TIMESTAMP, é»˜è®¤å½“å‰æ—¶é—´
- **updated_at**: TIMESTAMP, é»˜è®¤å½“å‰æ—¶é—´ï¼Œæ›´æ–°æ—¶è‡ªåŠ¨æ”¹å˜

### 6. **æ”¯ä»˜è®°å½•è¡¨ï¼ˆpaymentsï¼‰**

- **payment_id**: INT, ä¸»é”®ï¼Œè‡ªå¢
- **order_id**: INT, å¤–é”®ï¼Œå¼•ç”¨ orders.order_id
- **amount**: DECIMAL(10, 2) // æ”¯ä»˜é‡‘é¢
- **payment_method**: ENUM('WeChat', 'Alipay', 'CreditCard') // æ”¯ä»˜æ–¹å¼
- **payment_status**: ENUM('Pending', 'Completed', 'Failed') // æ”¯ä»˜çŠ¶æ€
- **payment_date**: TIMESTAMP // æ”¯ä»˜æ—¶é—´
- **created_at**: TIMESTAMP, é»˜è®¤å½“å‰æ—¶é—´
- **updated_at**: TIMESTAMP, é»˜è®¤å½“å‰æ—¶é—´ï¼Œæ›´æ–°æ—¶è‡ªåŠ¨æ”¹å˜

### è¡¨é—´å…³ç³»

- **ç”¨æˆ·è¡¨**ï¼ˆusersï¼‰ä¸**è´­ç‰©è½¦è¡¨**ï¼ˆcart_itemsï¼‰ã€**è®¢å•è¡¨**ï¼ˆordersï¼‰ä¹‹é—´æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚
- **äº§å“è¡¨**ï¼ˆproductsï¼‰ä¸**è´­ç‰©è½¦è¡¨**ï¼ˆcart_itemsï¼‰ã€**è®¢å•é¡¹è¡¨**ï¼ˆorder_itemsï¼‰ä¹‹é—´æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚
- **è®¢å•è¡¨**ï¼ˆordersï¼‰ä¸**è®¢å•é¡¹è¡¨**ï¼ˆorder_itemsï¼‰ä¹‹é—´æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚
- **è®¢å•è¡¨**ï¼ˆordersï¼‰ä¸**æ”¯ä»˜è®°å½•è¡¨**ï¼ˆpaymentsï¼‰ä¹‹é—´æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚

### è®¾è®¡è¦ç‚¹

- **ç´¢å¼•**: åœ¨é«˜é¢‘æŸ¥è¯¢å­—æ®µä¸Šåˆ›å»ºç´¢å¼•ï¼Œä¾‹å¦‚ `user_id`ã€`product_id`ã€`order_id`ã€‚
- **å®‰å…¨æ€§**: å¯¹æ•æ„Ÿæ•°æ®ï¼ˆå¦‚å¯†ç ï¼‰è¿›è¡ŒåŠ å¯†å¤„ç†ã€‚
- **æ€§èƒ½ä¼˜åŒ–**: ç›‘æ§æ•°æ®åº“æ€§èƒ½ï¼Œå¹¶æ ¹æ®éœ€è¦è°ƒæ•´è¡¨ç»“æ„å’Œç´¢å¼•ã€‚

```
+------------------+        +------------------+        +------------------+
|      Users       |        |   Products       |        |   Cart_Items     |
+------------------+        +------------------+        +------------------+
| PK user_id       |        | PK product_id    |        | PK cart_item_id  |
| username         |        | name             |        | FK user_id       |
| password_hash    |        | description      |        | FK product_id    |
| email            |        | price            |        | quantity         |
| phone_number     |        | stock            |        | created_at       |
| address          |        | image_url        |        | updated_at       |
| created_at       |        | created_at       |        +------------------+
| updated_at       |        | updated_at       |
+------------------+        +------------------+
        |                             |
        |                             |
        |                             |
        +                             +
        | 1                         * | 
        |                             |
        v                             v
+------------------+        +------------------+
|    Orders        |        |   Order_Items    |
+------------------+        +------------------+
| PK order_id      |        | PK order_item_id |
| FK user_id       |        | FK order_id      |
| total_amount     |        | FK product_id    |
| status           |        | quantity         |
| created_at       |        | price            |
| updated_at       |        | created_at       |
+------------------+        | updated_at       |
                            +------------------+
                                    |
                                    |
                                    |
                                    |
                                    |
                                    v
                        +------------------+
                        |    Payments      |
                        +------------------+
                        | PK payment_id    |
                        | FK order_id      |
                        | amount           |
                        | payment_method   |
                        | payment_status   |
                        | payment_date     |
                        | created_at       |
                        | updated_at       |
                        +------------------+

```